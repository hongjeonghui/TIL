# 🗓️ TIL: Database & SQL 기초 정리

> Database 개념부터 SQL 문법까지 — SELECT, WHERE, GROUP BY, HAVING 중심 학습  

---

## 📘 Database

### Database란?

- **데이터베이스(Database)**  
  체계적으로 정리된 데이터의 모음.  
  여러 종류의 데이터를 **저장·관리·활용**할 수 있도록 구조화된 시스템.

- **데이터(Data)**  
  저장이나 처리를 위해 변환된 정보.  
  사람이 표현한 정보를 **컴퓨터가 다룰 수 있도록 구조화한 것**.

---

### 🧩 데이터 저장 방식 비교

| 구분 | 설명 | 장점 | 단점 |
|------|------|------|------|
| **파일(File)** | 문서, 텍스트 등으로 데이터 저장 | 접근 쉬움 | 비구조적, 검색/수정 어려움 |
| **스프레드시트(Spreadsheet)** | 행과 열 기반 구조적 데이터 저장 | 구조적 관리 용이 | 크기·보안·정확성 한계 존재 |

#### ⚠ 스프레드시트의 한계
- **크기 제한:** 약 100만 행  
- **보안:** 링크/파일 기반 접근 제어만 가능  
- **정확성:** 값이 여러 위치에 중복 저장되어 일관성 깨질 수 있음  

---

## 🧱 Relational Database (관계형 데이터베이스)

### Relational Database란?

- 데이터를 **테이블(Table)** 단위로 저장하고, 각 테이블을 **관계(Relation)** 로 연결한 구조  
- 데이터 간의 **논리적 연결**을 통해 효율적 관리 가능  

---

### 🗃️ 기본 개념

| 구성 요소 | 의미 | 예시 |
|------------|------|------|
| **Table (Relation)** | 데이터를 기록하는 구조 | customers, orders |
| **Field (Column)** | 데이터의 속성 (열) | name, age, city |
| **Record (Row)** | 구체적 데이터 (행) | (‘홍길동’, 30, ‘Seoul’) |
| **Database (Schema)** | 테이블들의 집합 | 전체 DB 구조 |

---

### 🔑 키(Key) 종류

| 키 종류 | 의미 | 역할 |
|----------|------|------|
| **Primary Key (PK)** | 각 레코드를 고유하게 식별 | 중복 불가, Null 불가 |
| **Foreign Key (FK)** | 다른 테이블의 PK를 참조 | 테이블 간 관계 연결 |

---

### 💾 RDBMS (Relational Database Management System)

| 구분 | 설명 |
|------|------|
| **DBMS** | 데이터를 저장·관리·조회할 수 있는 소프트웨어 |
| **RDBMS** | 관계형 구조를 지원하는 DBMS |
| **대표 RDBMS** | SQLite, MySQL, PostgreSQL, Oracle, MS SQL 등 |
| **SQLite 특징** | 가벼움, 설치 불필요, 모바일/로컬 환경에서 자주 사용 |

---

## 🧮 SQL (Structured Query Language)

### SQL이란?

- **SQL (Structured Query Language)** 은 관계형 데이터베이스에서 데이터를 **질의(Query)** 하는 언어
- 기본 문법 예시:
  ```sql
  SELECT column_name FROM table_name;
  ```
- **대소문자 구분 없음**,  
  단 **키워드는 대문자**로 작성하는 것이 일반적  
- 문장의 끝에는 **세미콜론(;)** 필수  

---

### SQL Statements (명령문)

| 유형 | 설명 | 주요 키워드 |
|------|------|--------------|
| **DDL (Data Definition Language)** | 데이터 구조 정의 (생성·수정·삭제) | `CREATE`, `DROP`, `ALTER` |
| **DQL (Data Query Language)** | 데이터 검색 | `SELECT` |
| **DML (Data Manipulation Language)** | 데이터 조작 (삽입·수정·삭제) | `INSERT`, `UPDATE`, `DELETE` |
| **DCL (Data Control Language)** | 데이터 접근 제어 | `COMMIT`, `ROLLBACK`, `GRANT`, `REVOKE` |

---

## 🔍 Querying Data (데이터 조회)

### SELECT 문

- **기본 문법**
  ```sql
  SELECT select_list
  FROM table_name;
  ```
- 특정 컬럼 조회:
  ```sql
  SELECT LastName, FirstName FROM employees;
  ```
- 모든 컬럼 조회:
  ```sql
  SELECT * FROM employees;
  ```
- 컬럼명 별칭:
  ```sql
  SELECT FirstName AS '이름' FROM employees;
  ```

---

## 🔢 Sorting Data (데이터 정렬)

### ORDER BY 문

- **문법**
  ```sql
  SELECT select_list
  FROM table_name
  ORDER BY column1 [ASC|DESC], column2 [ASC|DESC];
  ```

| 옵션 | 의미 |
|------|------|
| **ASC** | 오름차순 (기본값) |
| **DESC** | 내림차순 |

- **NULL 정렬 시 주의**: 오름차순 시 NULL 값이 먼저 출력됨

---

## 🎯 Filtering Data (데이터 필터링)

### DISTINCT
- 중복 제거
  ```sql
  SELECT DISTINCT Country FROM customers;
  ```

### WHERE
- 특정 조건 필터링
  ```sql
  SELECT * FROM customers WHERE City = 'Prague';
  ```

#### 주요 연산자
| 구분 | 연산자 | 설명 |
|------|----------|------|
| 비교 연산자 | =, !=, >, <, >=, <= | 값 비교 |
| 논리 연산자 | AND, OR, NOT | 조건 결합 |
| 패턴 매칭 | LIKE, IN, BETWEEN | 문자열/범위 비교 |

#### 예시
```sql
SELECT LastName, FirstName
FROM customers
WHERE Country IN ('Canada', 'Germany', 'France');
```

---

### LIMIT
- 조회 개수 제한
  ```sql
  SELECT * FROM tracks LIMIT 5;
  ```
- 특정 위치부터 조회
  ```sql
  SELECT * FROM tracks LIMIT 3, 4;
  ```

---

## 📊 Grouping Data (데이터 그룹화)

### GROUP BY
- 그룹화 및 집계 함수 사용
  ```sql
  SELECT Country, COUNT(*) FROM customers GROUP BY Country;
  ```

#### 대표 집계 함수
| 함수 | 의미 |
|------|------|
| **SUM()** | 합계 |
| **AVG()** | 평균 |
| **MAX() / MIN()** | 최대값 / 최소값 |
| **COUNT()** | 개수 |

---

## 🧩 HAVING vs WHERE

| 구분 | WHERE | HAVING |
|------|--------|---------|
| **목적** | 개별 행 조건 지정 (행 필터링) | 그룹 조건 지정 (그룹 필터링) |
| **적용 시점** | FROM, JOIN 이후 GROUP BY 이전 | GROUP BY 및 집계 함수 적용 후 |
| **사용 예** | 행 단위 데이터 필터링 | 그룹별 조건 적용 |
| **예시 코드** | ```sql<br>SELECT * FROM employees WHERE salary > 30000;<br>``` | ```sql<br>SELECT department, COUNT(*) AS num_employees<br>FROM employees<br>GROUP BY department<br>HAVING num_employees > 5;<br>``` |

---

## ⚙️ SELECT Statement 실행 순서

1. **FROM** – 테이블에서 데이터 가져옴  
2. **WHERE** – 조건에 맞는 행 필터링  
3. **GROUP BY** – 데이터를 그룹화  
4. **HAVING** – 그룹 조건 적용  
5. **SELECT** – 조회할 컬럼 선택  
6. **ORDER BY** – 결과 정렬  
7. **LIMIT** – 제한된 개수만 출력  

> **실행 순서 요약:**  
> `FROM → WHERE → GROUP BY → HAVING → SELECT → ORDER BY → LIMIT`

---

## 🧠 오늘의 학습 요약

- 데이터베이스는 데이터를 구조적으로 **저장·관리·활용**하기 위한 체계적 시스템  
- **RDBMS**를 통해 데이터를 테이블 기반으로 관리  
- **SQL**은 데이터 질의 언어로, CRUD 작업을 수행  
- **SELECT / WHERE / ORDER BY / GROUP BY / HAVING** 문법을 익힘  
- SQL 문 실행 순서 숙지로 쿼리 작성 흐름 이해  

---


